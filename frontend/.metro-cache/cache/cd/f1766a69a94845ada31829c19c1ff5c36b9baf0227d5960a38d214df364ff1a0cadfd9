{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":51,"index":51}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":52},"end":{"line":2,"column":67,"index":119}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":120},"end":{"line":3,"column":40,"index":160}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/contexts/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":161},"end":{"line":4,"column":54,"index":215}}],"key":"iFKPIxFC5yAllFFURIp5/fTaybs=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":216},"end":{"line":5,"column":69,"index":285}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"C:\\\\Users\\\\YILDIRIM\\\\Desktop\\\\modli-main\\\\frontend\\\\app\\\\index.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _reactNative = require(_dependencyMap[3], \"react-native\");\n  var _expoRouter = require(_dependencyMap[4], \"expo-router\");\n  var _srcContextsAuthContext = require(_dependencyMap[5], \"../src/contexts/AuthContext\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[6], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  function Index() {\n    _s();\n    var router = (0, _expoRouter.useRouter)();\n    var _useAuth = (0, _srcContextsAuthContext.useAuth)(),\n      session = _useAuth.session,\n      profile = _useAuth.profile,\n      loading = _useAuth.loading;\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      hasNavigated = _useState2[0],\n      setHasNavigated = _useState2[1];\n\n    // Reset hasNavigated when session changes (logout/login)\n    (0, _react.useEffect)(() => {\n      console.log('üîÑ Session changed, resetting navigation flag');\n      setHasNavigated(false);\n    }, [session?.user?.id]);\n    (0, _react.useEffect)(() => {\n      // Don't navigate if already navigated or still loading\n      if (hasNavigated || loading) {\n        return;\n      }\n      checkNavigation();\n    }, [loading, session, profile, hasNavigated]);\n    var checkNavigation = /*#__PURE__*/function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        console.log('üîÑ Checking navigation...', {\n          loading,\n          hasSession: !!session,\n          hasProfile: !!profile,\n          profileOnboardingCompleted: profile?.onboarding_completed\n        });\n        try {\n          var hasSeenOnboarding = yield AsyncStorage.default.getItem('hasSeenOnboarding');\n\n          // First time user - show app onboarding\n          if (!hasSeenOnboarding) {\n            console.log('üì± First time user ‚Üí Showing app onboarding');\n            setHasNavigated(true);\n            router.replace('/(onboarding)');\n            return;\n          }\n\n          // Not logged in - show auth\n          if (!session) {\n            console.log('üîí No session ‚Üí Showing auth screen');\n            setHasNavigated(true);\n            router.replace('/(auth)');\n            return;\n          }\n\n          // Wait for profile to load\n          if (!profile) {\n            console.log('‚è≥ Waiting for profile to load...');\n            return;\n          }\n\n          // Logged in but profile not complete - show profile setup\n          if (profile.onboarding_completed === false) {\n            console.log('üë§ Profile incomplete ‚Üí Showing profile setup');\n            console.log('Profile data:', {\n              id: profile.id,\n              email: profile.email,\n              onboarding_completed: profile.onboarding_completed\n            });\n            setHasNavigated(true);\n            router.replace('/profile-setup');\n            return;\n          }\n\n          // All good - go to app\n          console.log('‚úÖ All checks passed ‚Üí Navigating to main app');\n          setHasNavigated(true);\n          router.replace('/(tabs)');\n        } catch (error) {\n          console.error('‚ùå Navigation error:', error);\n          setHasNavigated(true);\n          router.replace('/(onboarding)');\n        }\n      });\n      return function checkNavigation() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.ActivityIndicator, {\n        size: \"large\",\n        color: \"#6366f1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  }\n  _s(Index, \"1PcL99lYzMEHp4v6ZaW+a67FOc4=\", false, function () {\n    return [_expoRouter.useRouter, _srcContextsAuthContext.useAuth];\n  });\n  _c = Index;\n  var styles = _reactNative.StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#0a0a0a',\n      alignItems: 'center',\n      justifyContent: 'center'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":145,"map":[[14,2,7,15,"Object"],[14,8,7,15],[14,9,7,15,"defineProperty"],[14,23,7,15],[14,24,7,15,"exports"],[14,31,7,15],[15,4,7,15,"enumerable"],[15,14,7,15],[16,4,7,15,"get"],[16,7,7,15],[16,18,7,15,"get"],[16,19,7,15],[17,6,7,15],[17,13,7,15,"Index"],[17,18,7,15],[18,4,7,15],[19,2,7,15],[20,2,89,1],[20,6,89,1,"_babelRuntimeHelpersAsyncToGenerator"],[20,42,89,1],[20,45,89,1,"require"],[20,52,89,1],[20,53,89,1,"_dependencyMap"],[20,67,89,1],[21,2,89,1],[21,6,89,1,"_asyncToGenerator"],[21,23,89,1],[21,26,89,1,"_interopDefault"],[21,41,89,1],[21,42,89,1,"_babelRuntimeHelpersAsyncToGenerator"],[21,78,89,1],[22,2,89,1],[22,6,89,1,"_babelRuntimeHelpersSlicedToArray"],[22,39,89,1],[22,42,89,1,"require"],[22,49,89,1],[22,50,89,1,"_dependencyMap"],[22,64,89,1],[23,2,89,1],[23,6,89,1,"_slicedToArray"],[23,20,89,1],[23,23,89,1,"_interopDefault"],[23,38,89,1],[23,39,89,1,"_babelRuntimeHelpersSlicedToArray"],[23,72,89,1],[24,2,1,0],[24,6,1,0,"_react"],[24,12,1,0],[24,15,1,0,"require"],[24,22,1,0],[24,23,1,0,"_dependencyMap"],[24,37,1,0],[25,2,2,0],[25,6,2,0,"_reactNative"],[25,18,2,0],[25,21,2,0,"require"],[25,28,2,0],[25,29,2,0,"_dependencyMap"],[25,43,2,0],[26,2,3,0],[26,6,3,0,"_expoRouter"],[26,17,3,0],[26,20,3,0,"require"],[26,27,3,0],[26,28,3,0,"_dependencyMap"],[26,42,3,0],[27,2,4,0],[27,6,4,0,"_srcContextsAuthContext"],[27,29,4,0],[27,32,4,0,"require"],[27,39,4,0],[27,40,4,0,"_dependencyMap"],[27,54,4,0],[28,2,5,0],[28,6,5,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,5,0],[28,45,5,0,"require"],[28,52,5,0],[28,53,5,0,"_dependencyMap"],[28,67,5,0],[29,2,5,0],[29,6,5,0,"AsyncStorage"],[29,18,5,0],[29,21,5,0,"_interopDefault"],[29,36,5,0],[29,37,5,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,5,0],[30,2,5,69],[30,6,5,69,"_reactJsxDevRuntime"],[30,25,5,69],[30,28,5,69,"require"],[30,35,5,69],[30,36,5,69,"_dependencyMap"],[30,50,5,69],[31,2,7,15],[31,11,7,24,"Index"],[31,16,7,29,"Index"],[31,17,7,29],[31,19,7,32],[32,4,7,32,"_s"],[32,6,7,32],[33,4,8,2],[33,8,8,8,"router"],[33,14,8,14],[33,17,8,17],[33,21,8,17,"useRouter"],[33,32,8,26],[33,33,8,26,"useRouter"],[33,42,8,26],[33,44,8,27],[33,45,8,28],[34,4,9,2],[34,8,9,2,"_useAuth"],[34,16,9,2],[34,19,9,40],[34,23,9,40,"useAuth"],[34,46,9,47],[34,47,9,47,"useAuth"],[34,54,9,47],[34,56,9,48],[34,57,9,49],[35,6,9,10,"session"],[35,13,9,17],[35,16,9,17,"_useAuth"],[35,24,9,17],[35,25,9,10,"session"],[35,32,9,17],[36,6,9,19,"profile"],[36,13,9,26],[36,16,9,26,"_useAuth"],[36,24,9,26],[36,25,9,19,"profile"],[36,32,9,26],[37,6,9,28,"loading"],[37,13,9,35],[37,16,9,35,"_useAuth"],[37,24,9,35],[37,25,9,28,"loading"],[37,32,9,35],[38,4,10,2],[38,8,10,2,"_useState"],[38,17,10,2],[38,20,10,42],[38,24,10,42,"useState"],[38,30,10,50],[38,31,10,50,"useState"],[38,39,10,50],[38,41,10,51],[38,46,10,56],[38,47,10,57],[39,6,10,57,"_useState2"],[39,16,10,57],[39,23,10,57,"_slicedToArray"],[39,37,10,57],[39,38,10,57,"default"],[39,45,10,57],[39,47,10,57,"_useState"],[39,56,10,57],[40,6,10,9,"hasNavigated"],[40,18,10,21],[40,21,10,21,"_useState2"],[40,31,10,21],[41,6,10,23,"setHasNavigated"],[41,21,10,38],[41,24,10,38,"_useState2"],[41,34,10,38],[43,4,12,2],[44,4,13,2],[44,8,13,2,"useEffect"],[44,14,13,11],[44,15,13,11,"useEffect"],[44,24,13,11],[44,26,13,12],[44,32,13,18],[45,6,14,4,"console"],[45,13,14,11],[45,14,14,12,"log"],[45,17,14,15],[45,18,14,16],[45,65,14,63],[45,66,14,64],[46,6,15,4,"setHasNavigated"],[46,21,15,19],[46,22,15,20],[46,27,15,25],[46,28,15,26],[47,4,16,2],[47,5,16,3],[47,7,16,5],[47,8,16,6,"session"],[47,15,16,13],[47,17,16,15,"user"],[47,21,16,19],[47,23,16,21,"id"],[47,25,16,23],[47,26,16,24],[47,27,16,25],[48,4,18,2],[48,8,18,2,"useEffect"],[48,14,18,11],[48,15,18,11,"useEffect"],[48,24,18,11],[48,26,18,12],[48,32,18,18],[49,6,19,4],[50,6,20,4],[50,10,20,8,"hasNavigated"],[50,22,20,20],[50,26,20,24,"loading"],[50,33,20,31],[50,35,20,33],[51,8,21,6],[52,6,22,4],[53,6,24,4,"checkNavigation"],[53,21,24,19],[53,22,24,20],[53,23,24,21],[54,4,25,2],[54,5,25,3],[54,7,25,5],[54,8,25,6,"loading"],[54,15,25,13],[54,17,25,15,"session"],[54,24,25,22],[54,26,25,24,"profile"],[54,33,25,31],[54,35,25,33,"hasNavigated"],[54,47,25,45],[54,48,25,46],[54,49,25,47],[55,4,27,2],[55,8,27,8,"checkNavigation"],[55,23,27,23],[56,6,27,23],[56,10,27,23,"_ref"],[56,14,27,23],[56,21,27,23,"_asyncToGenerator"],[56,38,27,23],[56,39,27,23,"default"],[56,46,27,23],[56,48,27,26],[56,61,27,38],[57,8,28,4,"console"],[57,15,28,11],[57,16,28,12,"log"],[57,19,28,15],[57,20,28,16],[57,47,28,43],[57,49,28,45],[58,10,29,6,"loading"],[58,17,29,13],[59,10,30,6,"hasSession"],[59,20,30,16],[59,22,30,18],[59,23,30,19],[59,24,30,20,"session"],[59,31,30,27],[60,10,31,6,"hasProfile"],[60,20,31,16],[60,22,31,18],[60,23,31,19],[60,24,31,20,"profile"],[60,31,31,27],[61,10,32,6,"profileOnboardingCompleted"],[61,36,32,32],[61,38,32,34,"profile"],[61,45,32,41],[61,47,32,43,"onboarding_completed"],[62,8,33,4],[62,9,33,5],[62,10,33,6],[63,8,35,4],[63,12,35,8],[64,10,36,6],[64,14,36,12,"hasSeenOnboarding"],[64,31,36,29],[64,40,36,38,"AsyncStorage"],[64,52,36,50],[64,53,36,50,"default"],[64,60,36,50],[64,61,36,51,"getItem"],[64,68,36,58],[64,69,36,59],[64,88,36,78],[64,89,36,79],[66,10,38,6],[67,10,39,6],[67,14,39,10],[67,15,39,11,"hasSeenOnboarding"],[67,32,39,28],[67,34,39,30],[68,12,40,8,"console"],[68,19,40,15],[68,20,40,16,"log"],[68,23,40,19],[68,24,40,20],[68,69,40,65],[68,70,40,66],[69,12,41,8,"setHasNavigated"],[69,27,41,23],[69,28,41,24],[69,32,41,28],[69,33,41,29],[70,12,42,8,"router"],[70,18,42,14],[70,19,42,15,"replace"],[70,26,42,22],[70,27,42,23],[70,42,42,38],[70,43,42,39],[71,12,43,8],[72,10,44,6],[74,10,46,6],[75,10,47,6],[75,14,47,10],[75,15,47,11,"session"],[75,22,47,18],[75,24,47,20],[76,12,48,8,"console"],[76,19,48,15],[76,20,48,16,"log"],[76,23,48,19],[76,24,48,20],[76,61,48,57],[76,62,48,58],[77,12,49,8,"setHasNavigated"],[77,27,49,23],[77,28,49,24],[77,32,49,28],[77,33,49,29],[78,12,50,8,"router"],[78,18,50,14],[78,19,50,15,"replace"],[78,26,50,22],[78,27,50,23],[78,36,50,32],[78,37,50,33],[79,12,51,8],[80,10,52,6],[82,10,54,6],[83,10,55,6],[83,14,55,10],[83,15,55,11,"profile"],[83,22,55,18],[83,24,55,20],[84,12,56,8,"console"],[84,19,56,15],[84,20,56,16,"log"],[84,23,56,19],[84,24,56,20],[84,58,56,54],[84,59,56,55],[85,12,57,8],[86,10,58,6],[88,10,60,6],[89,10,61,6],[89,14,61,10,"profile"],[89,21,61,17],[89,22,61,18,"onboarding_completed"],[89,42,61,38],[89,47,61,43],[89,52,61,48],[89,54,61,50],[90,12,62,8,"console"],[90,19,62,15],[90,20,62,16,"log"],[90,23,62,19],[90,24,62,20],[90,71,62,67],[90,72,62,68],[91,12,63,8,"console"],[91,19,63,15],[91,20,63,16,"log"],[91,23,63,19],[91,24,63,20],[91,39,63,35],[91,41,63,37],[92,14,64,10,"id"],[92,16,64,12],[92,18,64,14,"profile"],[92,25,64,21],[92,26,64,22,"id"],[92,28,64,24],[93,14,65,10,"email"],[93,19,65,15],[93,21,65,17,"profile"],[93,28,65,24],[93,29,65,25,"email"],[93,34,65,30],[94,14,66,10,"onboarding_completed"],[94,34,66,30],[94,36,66,32,"profile"],[94,43,66,39],[94,44,66,40,"onboarding_completed"],[95,12,67,8],[95,13,67,9],[95,14,67,10],[96,12,68,8,"setHasNavigated"],[96,27,68,23],[96,28,68,24],[96,32,68,28],[96,33,68,29],[97,12,69,8,"router"],[97,18,69,14],[97,19,69,15,"replace"],[97,26,69,22],[97,27,69,23],[97,43,69,39],[97,44,69,40],[98,12,70,8],[99,10,71,6],[101,10,73,6],[102,10,74,6,"console"],[102,17,74,13],[102,18,74,14,"log"],[102,21,74,17],[102,22,74,18],[102,68,74,64],[102,69,74,65],[103,10,75,6,"setHasNavigated"],[103,25,75,21],[103,26,75,22],[103,30,75,26],[103,31,75,27],[104,10,76,6,"router"],[104,16,76,12],[104,17,76,13,"replace"],[104,24,76,20],[104,25,76,21],[104,34,76,30],[104,35,76,31],[105,8,77,4],[105,9,77,5],[105,10,77,6],[105,17,77,13,"error"],[105,22,77,18],[105,24,77,20],[106,10,78,6,"console"],[106,17,78,13],[106,18,78,14,"error"],[106,23,78,19],[106,24,78,20],[106,45,78,41],[106,47,78,43,"error"],[106,52,78,48],[106,53,78,49],[107,10,79,6,"setHasNavigated"],[107,25,79,21],[107,26,79,22],[107,30,79,26],[107,31,79,27],[108,10,80,6,"router"],[108,16,80,12],[108,17,80,13,"replace"],[108,24,80,20],[108,25,80,21],[108,40,80,36],[108,41,80,37],[109,8,81,4],[110,6,82,2],[110,7,82,3],[111,6,82,3],[111,22,27,8,"checkNavigation"],[111,37,27,23,"checkNavigation"],[111,38,27,23],[112,8,27,23],[112,15,27,23,"_ref"],[112,19,27,23],[112,20,27,23,"apply"],[112,25,27,23],[112,32,27,23,"arguments"],[112,41,27,23],[113,6,27,23],[114,4,27,23],[114,7,82,3],[115,4,84,2],[115,24,85,4],[115,28,85,4,"_reactJsxDevRuntime"],[115,47,85,4],[115,48,85,4,"jsxDEV"],[115,54,85,4],[115,56,85,5,"_reactNative"],[115,68,85,9],[115,69,85,9,"View"],[115,73,85,9],[116,6,85,10,"style"],[116,11,85,15],[116,13,85,17,"styles"],[116,19,85,23],[116,20,85,24,"container"],[116,29,85,34],[117,6,85,34,"children"],[117,14,85,34],[117,29,86,6],[117,33,86,6,"_reactJsxDevRuntime"],[117,52,86,6],[117,53,86,6,"jsxDEV"],[117,59,86,6],[117,61,86,7,"_reactNative"],[117,73,86,24],[117,74,86,24,"ActivityIndicator"],[117,91,86,24],[118,8,86,25,"size"],[118,12,86,29],[118,14,86,30],[118,21,86,37],[119,8,86,38,"color"],[119,13,86,43],[119,15,86,44],[120,6,86,53],[121,8,86,53,"fileName"],[121,16,86,53],[121,18,86,53,"_jsxFileName"],[121,30,86,53],[122,8,86,53,"lineNumber"],[122,18,86,53],[123,8,86,53,"columnNumber"],[123,20,86,53],[124,6,86,53],[124,13,86,55],[125,4,86,56],[126,6,86,56,"fileName"],[126,14,86,56],[126,16,86,56,"_jsxFileName"],[126,28,86,56],[127,6,86,56,"lineNumber"],[127,16,86,56],[128,6,86,56,"columnNumber"],[128,18,86,56],[129,4,86,56],[129,11,87,10],[129,12,87,11],[130,2,89,0],[131,2,89,1,"_s"],[131,4,89,1],[131,5,7,24,"Index"],[131,10,7,29],[132,4,7,29],[132,12,8,17,"useRouter"],[132,23,8,26],[132,24,8,26,"useRouter"],[132,33,8,26],[132,35,9,40,"useAuth"],[132,58,9,47],[132,59,9,47,"useAuth"],[132,66,9,47],[133,2,9,47],[134,2,9,47,"_c"],[134,4,9,47],[134,7,7,24,"Index"],[134,12,7,29],[135,2,91,0],[135,6,91,6,"styles"],[135,12,91,12],[135,15,91,15,"StyleSheet"],[135,27,91,25],[135,28,91,25,"StyleSheet"],[135,38,91,25],[135,39,91,26,"create"],[135,45,91,32],[135,46,91,33],[136,4,92,2,"container"],[136,13,92,11],[136,15,92,13],[137,6,93,4,"flex"],[137,10,93,8],[137,12,93,10],[137,13,93,11],[138,6,94,4,"backgroundColor"],[138,21,94,19],[138,23,94,21],[138,32,94,30],[139,6,95,4,"alignItems"],[139,16,95,14],[139,18,95,16],[139,26,95,24],[140,6,96,4,"justifyContent"],[140,20,96,18],[140,22,96,20],[141,4,97,2],[142,2,98,0],[142,3,98,1],[142,4,98,2],[143,2,98,3],[143,6,98,3,"_c"],[143,8,98,3],[144,2,98,3,"$RefreshReg$"],[144,14,98,3],[144,15,98,3,"_c"],[144,17,98,3],[145,0,98,3],[145,3]],"functionMap":{"names":["<global>","Index","useEffect$argument_0","checkNavigation"],"mappings":"AAA;eCM;YCM;GDG;YCE;GDO;0BEE;GFuD;CDO"},"hasCjsExports":false},"type":"js/module"}]}